function next_backtotop(){const buttons=document.querySelectorAll(".bc-back-to-top");buttons.forEach(button=>{button.classList.remove("bc-back-to-top__to-hide");const circlePath=button.querySelector(".bc-back-to-top__circle-path");const speed=button.getAttribute("data-speed");const ease=button.getAttribute("data-ease");const backEasing=button.getAttribute("data-back-easing");const backDuration=parseFloat(button.getAttribute("data-back-duration"));const pathLength=circlePath.getTotalLength();circlePath.style.strokeDasharray=`${pathLength} ${pathLength}`;circlePath.style.strokeDashoffset=pathLength;circlePath.style.transition=`stroke-dashoffset ${speed}ms ${ease}`;function updateProgress(){const scrollPercent=window.scrollY/(document.documentElement.scrollHeight-window.innerHeight);const drawLength=pathLength-(scrollPercent*pathLength);circlePath.style.strokeDashoffset=drawLength;if(window.scrollY>parseFloat(button.getAttribute("data-entrance-distance"))){button.classList.add("bc-back-to-top__active-progress")}else{button.classList.remove("bc-back-to-top__active-progress")}}
function scrollToTop(){gsap.to(window,{duration:backDuration/1000,scrollTo:{y:parseFloat(button.getAttribute("data-scroll-to-pixel")),},ease:backEasing,})}
updateProgress();window.addEventListener("scroll",updateProgress);button.addEventListener('click',function(e){e.stopImmediatePropagation();scrollToTop()})})}
document.addEventListener("DOMContentLoaded",()=>{if(typeof bricksIsFrontend!=='undefined'&&bricksIsFrontend){next_backtotop()}})