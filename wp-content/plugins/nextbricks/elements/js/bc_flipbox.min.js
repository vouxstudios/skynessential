function flipbox(){document.querySelectorAll(".bc-flipbox").forEach((t)=>{var e=t.querySelector(".bc-flipbox__wrapper"),i=t.getAttribute("data-trigger");let reset=t.getAttribute("data-reset");let resetAfter=t.getAttribute("data-reset-after");let keepOpen=t.getAttribute("data-keep-open");let n=window.location.href.includes("brickspreview");var r=t.querySelector(".bc-flipbox__flip--front"),a=t.querySelector(".bc-flipbox__flip--back");function o(){var e=getComputedStyle(t).getPropertyValue("--height").trim();if("auto"==e||"fit-content"==e){(r.style.height="auto"),(a.style.height="auto");var i=r.offsetHeight,n=a.offsetHeight;(t.style.height=Math.max(i,n)+"px"),(r.style.height=Math.max(i,n)+"px"),(a.style.height=Math.max(i,n)+"px")}}
o(),window.addEventListener("resize",o);var d=new MutationObserver(o);function c(t){var e,i=Array.from((e=t).querySelectorAll('a, button, input, select, textarea, [tabindex]:not([tabindex="-1"])'));i.length>0&&i[0].focus()}
d.observe(t,{childList:!0,subtree:!0}),t.removeAttribute("data-bc-hide"),r.addEventListener("focusout",function(t){r.contains(t.relatedTarget)||e.setAttribute("data-flipped","")}),a.addEventListener("focusout",function(t){a.contains(t.relatedTarget)||e.removeAttribute("data-flipped","")}),r.addEventListener("focusin",function(){c(r)}),a.addEventListener("focusin",function(){c(a)}),"hover"==i?(t.addEventListener("mouseenter",function(event){if('ontouchstart' in window)return;e.setAttribute("data-flipped","");if(reset==="1"){setTimeout(function(){e.removeAttribute("data-flipped")},parseFloat(resetAfter)*1000)}}),t.addEventListener("mouseleave",function(){e.removeAttribute("data-flipped","")}),t.addEventListener("touchstart",function(){if(e.hasAttribute("data-flipped")){e.removeAttribute("data-flipped")}else{e.setAttribute("data-flipped","");if(reset==="1"){setTimeout(function(){e.removeAttribute("data-flipped")},parseFloat(resetAfter)*1000)}}})):"click"==i&&(n?t.addEventListener("click",function(){e.setAttribute("data-flipped","")}):t.addEventListener("click",function(){if(e.hasAttribute("data-flipped")){e.removeAttribute("data-flipped")}else{e.setAttribute("data-flipped","");if(reset==="1"){setTimeout(function(){e.removeAttribute("data-flipped")},parseFloat(resetAfter)*1000)}}}),document.addEventListener("click",function(i){if(keepOpen==="1"&&i.target.closest(".bc-flipbox")&&i.target.closest(".bc-flipbox")!==t){if(e.hasAttribute("data-flipped")){return}}
t.contains(i.target)||e.removeAttribute("data-flipped","")}))})}
document.addEventListener("DOMContentLoaded",function(t){bricksIsFrontend&&flipbox()})