function morphingmenu(){!(function(){var t=function(t){(this.element=t),(this.wrapper=this.element.closest(".bc-morphing-menu")),(this.elementId=this.element.getAttribute("id")),(this.targets=this.wrapper.querySelectorAll('[data-morph-bg="'+this.elementId+'"]')),(this.bgTargets=[]),(this.action=this.element.getAttribute("data-morph-bg-event")),(this.targetIndex=!1),(this.defaultIndex=!1),this.action||(this.action="click"),(function(t,i){if(((function(t){for(var e=0;e<t.targets.length;e++){var n=t.targets[e].querySelector("[data-morph-bg-target]")||t.targets[e];t.bgTargets.push(n)}})(t),i&&i.hasAttribute("data-page-name"))){let pageName=i.getAttribute("data-page-name");t.targets.forEach((target)=>{if(target.textContent.trim()===pageName){target.setAttribute("data-morph-bg-active","")}else{target.removeAttribute("data-morph-bg-active")}})}else if(i&&i.hasAttribute("data-active-item")){let t=parseInt(i.getAttribute("data-active-item"),10),e=i.querySelectorAll(".bc-morphing-menu__item");t>=0&&t<=e.length&&(e.forEach((t)=>t.removeAttribute("data-morph-bg-active")),e[t-1].setAttribute("data-morph-bg-active",""))}
if(((function(t){for(var e=0;e<t.targets.length;e++)
if(t.targets[e].hasAttribute("data-morph-bg-active")){n(t,e),(t.defaultIndex=e);break}})(t),window.location.href.includes("brickspreview")))
e(t);else try{e(t)}catch(t){}
window.addEventListener("update-morphbg",function(){var e;!1!==(e=t).targetIndex&&(n(e,e.targetIndex),(e.element.style.display=""))}),window.addEventListener("hide-morphbg",function(){var e;(e=t).element.classList.contains("bc-morphing-menu")||(e.element.style.display="none")})})(this,this.wrapper);this.updateMorphingElement=function(){if(this.targetIndex!==!1){n(this,this.targetIndex)}};window.addEventListener('resize',this.updateMorphingElement.bind(this))};function e(t){var e=t.element.closest(".bc-morphing-menu");var lastClickedIndex=null;var hoveredIndex=null;if("hover"==e.getAttribute("data-trigger")){e.addEventListener("mouseleave",function(e){resetToActiveItem(t,lastClickedIndex)});for(var a=0;a<t.targets.length;a++)
!(function(e){t.targets[e].addEventListener("mouseenter",function(i){hoveredIndex=e;t.targets.forEach(function(t){t.classList.remove("bc-morphing-menu__item--active")}),t.targets[e].classList.add("bc-morphing-menu__item--active"),n(t,e)}),t.targets[e].addEventListener("mouseleave",function(i){hoveredIndex=null;if(lastClickedIndex!==null){n(t,lastClickedIndex);t.targets.forEach(function(t,index){t.classList.toggle("bc-morphing-menu__item--active",index===lastClickedIndex)})}}),t.targets[e].addEventListener("focus",function(i){t.targets.forEach(function(t){t.classList.remove("bc-morphing-menu__item--active")}),t.targets[e].classList.add("bc-morphing-menu__item--active"),n(t,e);t.targets[e].setAttribute("data-morph-bg-active","");lastClickedIndex=e});t.targets[e].addEventListener("click",function(i){t.targets.forEach(function(t){t.classList.remove("bc-morphing-menu__item--active")}),t.targets[e].classList.add("bc-morphing-menu__item--active"),n(t,e);t.targets[e].setAttribute("data-morph-bg-active","");lastClickedIndex=e})})(a);if(t.targets[0]){var r=t.targets[0].closest("[data-morph-bg-preserve]")}
r&&r.addEventListener("mouseleave",function(e){if(hoveredIndex===null&&lastClickedIndex!==null){n(t,lastClickedIndex)}else{i(t,e)}});document.addEventListener("mouseleave",function(){resetToActiveItem(t,lastClickedIndex)})}else if("click"==e.getAttribute("data-trigger"))
for(a=0;a<t.targets.length;a++)
!(function(e){t.targets[e].addEventListener("click",function(i){n(t,e),t.targets.forEach(function(t){t.classList.remove("bc-morphing-menu__item--active")}),t.targets[e].classList.add("bc-morphing-menu__item--active")}),t.targets[e].addEventListener("focus",function(i){n(t,e),t.targets.forEach(function(t){t.classList.remove("bc-morphing-menu__item--active")}),t.targets[e].classList.add("bc-morphing-menu__item--active")})})(a);t.targets.forEach(function(target){if(target.hasAttribute("data-morph-bg-active")){target.classList.add("bc-morphing-menu__item--active")}})}
function n(t,e){if(t.bgTargets){var n=t.bgTargets[e].getBoundingClientRect(),i=getComputedStyle(t.bgTargets[e]).borderRadius,a=t.wrapper.getBoundingClientRect();(t.element.style.transform="translateX("+(n.left-a.left)+"px) translateY("+(n.top-a.top)+"px) translateZ(-0.1px)"),(t.element.style.height=n.height+"px"),(t.element.style.width=n.width+"px"),(t.element.style.borderRadius=i),t.element.classList.add("morph-bg--visible"),setTimeout(function(){t.element.classList.contains("morph-bg--has-transition")||t.element.classList.add("morph-bg--has-transition")},10),(t.targetIndex=e)}}
function i(t,e){if(!e.relatedTarget||(!e.relatedTarget.closest('[data-morph-bg="'+t.elementId+'"]')&&!e.relatedTarget.closest("[data-morph-bg-preserve]"))){if(!1!==t.defaultIndex)return(t.targetIndex=t.defaultIndex),void n(t,t.targetIndex);t.element.classList.remove("morph-bg--visible","morph-bg--has-transition"),(t.targetIndex=!1)}}
function resetToActiveItem(t,lastClickedIndex){if(lastClickedIndex!==null){n(t,lastClickedIndex)}else{t.targets.forEach(function(t,index){if(t.hasAttribute("data-morph-bg-active")){n(t,index);t.classList.add("bc-morphing-menu__item--active")}else{t.classList.remove("bc-morphing-menu__item--active")}})}}
var morphInstances=[];document.querySelectorAll(".bc-morphing-menu__morphing-div").forEach(function(e){morphInstances.push(new t(e))});window.addEventListener('resize',function(){morphInstances.forEach(function(instance){instance.updateMorphingElement()})});(window.MorphBg=t);var a=document.getElementsByClassName("bc-morphing-menu__morphing-div");if(a.length>0)for(var r=0;r<a.length;r++)new t(a[r]);document.querySelectorAll(".bc-morphing-menu").forEach(function(e){new t(e)})})()}
document.addEventListener("DOMContentLoaded",function(t){bricksIsFrontend&&morphingmenu()})