function offcanvasmenu(){let e=window.location.href.includes("brickspreview");function t(e){if(e.hasAttribute("tabindex")&&e.getAttribute("tabindex")==="-1"){e.removeAttribute("tabindex")}else{e.setAttribute("tabindex","-1")}
let o=e.children;for(let e=0;e<o.length;e++)t(o[e]);}
function applyTabIndexRecursively(element){if(element.nodeType===Node.ELEMENT_NODE){if(!element.hasAttribute("tabindex")||element.getAttribute("tabindex")!=="-1"){element.setAttribute("tabindex","-1")}
Array.from(element.children).forEach(applyTabIndexRecursively)}}
document.querySelectorAll(".bc-offcanvas-menu").forEach((o)=>{let toggleBody=o.getAttribute("data-customtoggle-lock-body-scrolling")==="1";let closeOnEsc=o.getAttribute("data-close-on-esc")==="1";var r=o.getAttribute("data-open-builder");let n=!1;var a=o.querySelector(".bc-offcanvas-menu__items-wrapper"),c=o.getAttribute("data-duration"),u=o.getAttribute("data-easing"),i=o.getAttribute("data-type");let l=gsap.timeline({paused:!0,onStart:function(){o.setAttribute("data-hide-content","false")},onReverseComplete:function(){a.style.clipPath=s;o.setAttribute("data-hide-content","true")},});if((t(a),"fromTop"==i))
var s="polygon(0 0, 100% 0, 100% 0, 0 0)",d="polygon(0 0, 100% 0, 100% 100%, 0 100%)";else if("fromLeft"==i)(s="polygon(0 0, 0 0, 0 100%, 0 100%)"),(d="polygon(0 0, 100% 0, 100% 100%, 0 100%)");else if("fromRight"==i)(s="polygon(100% 0, 100% 0, 100% 100%, 100% 100%)"),(d="polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)");l.to(a,{duration:c,clipPath:d,ease:u});let b=document.querySelectorAll(".bc-core-burguer"),f=o.querySelectorAll(".bc-core-burguer"),p=o.querySelector(".bc-offcanvas-menu__backdrop"),g=!1,y=o.getAttribute("data-customtoggle");var v=y?y.replace(".",""):"";if(!e){const observer=new MutationObserver((mutations)=>{mutations.forEach((mutation)=>{if(mutation.type==="childList"){mutation.addedNodes.forEach((node)=>{if(node.nodeType===Node.ELEMENT_NODE){applyTabIndexRecursively(node)}})}})});observer.observe(a,{childList:!0,subtree:!0})}
function m(){t(a);if(f.length>0){f.forEach((e)=>{let t=e.querySelector("button").classList,r="";t.length>0&&(r=`${t[0]}--opened`),g?(e.querySelector("button").classList.remove(r),e.querySelector("button").setAttribute("aria-expanded","false"),(a.style.pointerEvents="none"),o.removeAttribute("data-open","bc-offcanvas-menu--opened"),l.reverse()):(e.querySelector("button").classList.add(r),e.querySelector("button").setAttribute("aria-expanded","true"),(a.style.pointerEvents="all"),o.setAttribute("data-open","bc-offcanvas-menu--opened"),l.play())})}
if(y){let toggles=document.querySelectorAll(y);toggles.forEach((toggle)=>{if(toggle.classList.contains("bc-core-burguer")){let classesList=toggle.querySelector("button").classList;let opened=`${classesList[0]}--opened`;if(g){toggle.querySelector("button").classList.remove(opened);toggle.querySelector("button").setAttribute("aria-expanded","false");a.style.pointerEvents="none";o.removeAttribute("data-open","bc-offcanvas-menu--opened");l.reverse()}else{toggle.querySelector("button").classList.add(opened);toggle.querySelector("button").setAttribute("aria-expanded","true");a.style.pointerEvents="all";o.setAttribute("data-open","bc-offcanvas-menu--opened");l.play()}}else{if(g){toggle.classList.remove("opened");a.style.pointerEvents="none";o.removeAttribute("data-open","bc-offcanvas-menu--opened");l.reverse()}else{toggle.classList.add("opened");a.style.pointerEvents="all";o.setAttribute("data-open","bc-offcanvas-menu--opened");l.play()}}})}
g=!g}
if(e&&r=="1"){l.play()}
function toggleBodyScroll(){if(toggleBody){if(document.querySelector("html").hasAttribute("bc-core-burguer--body-toggled")){if(window.lenisInstance){window.lenisInstance.start()}}else{if(window.lenisInstance){window.lenisInstance.stop()}}
document.querySelector("html").toggleAttribute("bc-core-burguer--body-toggled")}}
if(y){var gs=document.querySelectorAll(y);gs.forEach((element)=>{if(!element.hasAttribute("tabindex")){element.setAttribute("tabindex","0")}
element.addEventListener("click",function(){toggleBodyScroll();m()});element.addEventListener("keydown",function(event){if(event.key==="Enter"){toggleBodyScroll();m();event.stopImmediatePropagation()}})})}
f.forEach((e)=>{1==parseFloat(e.querySelector("button").getAttribute("data-scroll"))&&(n=!0),e.addEventListener("click",function(){m()})});window.location.href.includes("brickspreview")||(document.addEventListener("keydown",function(e){if("Escape"===e.key&&g&&closeOnEsc){m();if(document.querySelector("html").hasAttribute("bc-core-burguer--body-toggled")){document.querySelector("html").removeAttribute("bc-core-burguer--body-toggled")}}}),p&&p.addEventListener("click",function(){m();if(document.querySelector("html").hasAttribute("bc-core-burguer--body-toggled")){document.querySelector("html").removeAttribute("bc-core-burguer--body-toggled");if(window.lenisInstance){window.lenisInstance.start()}}}));a.addEventListener("focusout",function(e){if(e.relatedTarget&&!a.contains(e.relatedTarget)){g&&m()}})})}
document.addEventListener("DOMContentLoaded",function(e){bricksIsFrontend&&offcanvasmenu()})