function next_beforeafter_image_v2(){class BeforeAfterImagev2{constructor(element,options={}){this.element=element;this.options={initialSliderPercentage:50,slideMode:'hover',...options};this.sliderXPercent=this.options.initialSliderPercentage;this.isDragging=!1;this.isMouseOver=!1;this.slider=element.querySelector('.nb-before-after-image-v2__slider');this.firstImageContainer=element.querySelector('.nb-before-after-image-v2__first-image-container');this.setupEventListeners();this.updateSliderPosition(this.sliderXPercent);this.setupSparkles()}
setupEventListeners(){this.element.addEventListener('mousemove',this.handleMouseMove.bind(this));this.element.addEventListener('mouseenter',this.handleMouseEnter.bind(this));this.element.addEventListener('mouseleave',this.handleMouseLeave.bind(this));this.element.addEventListener('mousedown',this.handleMouseDown.bind(this));this.element.addEventListener('mouseup',this.handleMouseUp.bind(this));this.element.addEventListener('touchstart',this.handleTouchStart.bind(this));this.element.addEventListener('touchend',this.handleTouchEnd.bind(this));this.element.addEventListener('touchmove',this.handleTouchMove.bind(this))}
setupSparkles(){const sparklesContainer=this.element.querySelector('.nb-before-after-image-v2__sparkles-container');const createParticle=()=>{const particle=document.createElement('div');particle.className='nb-before-after-image-v2__particle';const size=(Math.random()*2.6+0.4);particle.style.width=`${size}px`;particle.style.height=`${size}px`;particle.style.left=`${Math.random() * 100}%`;particle.style.top=`${Math.random() * 100}%`;sparklesContainer.appendChild(particle);particle.addEventListener('animationend',()=>{particle.remove()})};for(let i=0;i<50;i++){createParticle()}
setInterval(()=>{createParticle()},100)}
updateSliderPosition(percent){this.sliderXPercent=Math.max(0,Math.min(100,percent));this.slider.style.left=`${this.sliderXPercent}%`;this.firstImageContainer.style.clipPath=`inset(0 ${100 - this.sliderXPercent}% 0 0)`}
handleStart(clientX){if(this.options.slideMode==='drag'){this.isDragging=!0}}
handleEnd(){if(this.options.slideMode==='drag'){this.isDragging=!1}}
handleMove(clientX){if(!this.element)return;if(this.options.slideMode==='hover'||(this.options.slideMode==='drag'&&this.isDragging)){const rect=this.element.getBoundingClientRect();const x=clientX-rect.left;const percent=(x/rect.width)*100;requestAnimationFrame(()=>{this.updateSliderPosition(percent)})}}
handleMouseMove(e){this.handleMove(e.clientX)}
handleMouseEnter(){this.isMouseOver=!0}
handleMouseLeave(){this.isMouseOver=!1;if(this.options.slideMode==='hover'){this.updateSliderPosition(this.options.initialSliderPercentage)}
if(this.options.slideMode==='drag'){this.isDragging=!1}}
handleMouseDown(e){this.handleStart(e.clientX)}
handleMouseUp(){this.handleEnd()}
handleTouchStart(e){this.handleStart(e.touches[0].clientX)}
handleTouchEnd(){this.handleEnd()}
handleTouchMove(e){this.handleMove(e.touches[0].clientX)}}
document.querySelectorAll('.nb-before-after-image-v2').forEach(element=>{element.removeAttribute('data-flickering');const imageCompare=new BeforeAfterImagev2(element,{slideMode:element.getAttribute('data-slider-mode'),initialSliderPercentage:parseFloat(element.getAttribute('data-slider-percentage')),})})}
document.addEventListener("DOMContentLoaded",function(t){bricksIsFrontend&&next_beforeafter_image_v2()})