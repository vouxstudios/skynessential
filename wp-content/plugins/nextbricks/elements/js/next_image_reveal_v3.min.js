function next_image_reveal_v3(){var isBricks=window.location.href.includes("brickspreview");document.querySelectorAll('.nb-image-reveal-v3').forEach(imageReveal=>{imageReveal.removeAttribute('data-flickering');if(isBricks&&imageReveal.getAttribute('data-disable-builder').includes('1')){return}
var columnWidth=parseFloat(imageReveal.getAttribute('data-columns-width'));var createColumns=(el)=>{var columns=Math.ceil(el.offsetWidth/columnWidth);for(let i=1;i<=columns;i++){var div=document.createElement("div");var divBg=document.createElement("div");div.classList.add('nb-image-reveal-v3__col');divBg.classList.add('nb-image-reveal-v3__col-bg');div.appendChild(divBg);el.appendChild(div);gsap.set(div,{width:columnWidth})}}
createColumns(imageReveal);var heroImageCols=imageReveal.querySelectorAll('.nb-image-reveal-v3__col-bg');var varTrigger=imageReveal.getAttribute('data-trigger');if(varTrigger=='this'){varTrigger=imageReveal}
var varContainerAnimation=isInsideHorizontalScrollElement(imageReveal);const tl=gsap.timeline({scrollTrigger:{trigger:varTrigger,start:imageReveal.getAttribute('data-start'),end:imageReveal.getAttribute('data-end'),scrub:imageReveal.getAttribute('data-scrub')==='0'?!1:imageReveal.getAttribute('data-scrub')==='1'?!0:imageReveal.getAttribute('data-scrub'),toggleActions:imageReveal.getAttribute('data-toggle-actions'),containerAnimation:varContainerAnimation?window[varContainerAnimation]:undefined}});tl.to(heroImageCols,{width:0,duration:parseFloat(imageReveal.getAttribute('data-duration')),delay:parseFloat(imageReveal.getAttribute('data-delay')),ease:imageReveal.getAttribute('data-ease'),stagger:parseFloat(imageReveal.getAttribute('data-stagger')),});var animationType=imageReveal.getAttribute("data-animationType");var removescroll=imageReveal.getAttribute("data-remove-scroll");var classTriggerClick=imageReveal.getAttribute("data-classTriggerClick");var classTriggerHover=imageReveal.getAttribute("data-classTriggerHover");var y=imageReveal.closest(".bc-core-menu");if(y&&y.contains(imageReveal)){var v=y.querySelector(".bc-core-burguer").querySelector("button");tl.pause();new MutationObserver(function(e){for(var t of e)"attributes"===t.type&&("true"===v.getAttribute("aria-expanded")?f():A())}).observe(v,{attributes:!0})}
function f(){tl.isActive()?tl.play():tl.restart()}
function A(){tl.reverse()}
if("Click"==animationType&&0!=parseFloat(classTriggerClick)){document.querySelectorAll(classTriggerClick).forEach(function(t){t.addEventListener("click",function(){tl.restart()})})}
if("Hover"==animationType&&0!=parseFloat(classTriggerHover)){document.querySelectorAll(classTriggerHover).forEach(function(t){t.addEventListener("mouseover",function(){tl.restart()})})}
if(removescroll.includes('1')){tl.progress(1)}})}
function isInsideHorizontalScrollElement(element){let containerName=null;document.querySelectorAll(".next-horizontal-scroll").forEach((horizontalScroll,index)=>{if(horizontalScroll.contains(element)){containerName=`NextHorizontalScroll${index}`}});return containerName}
document.addEventListener("DOMContentLoaded",function(t){if(!document.querySelector(".nb-site-loader")){bricksIsFrontend&&next_image_reveal_v3()}else{document.querySelectorAll(".nb-image-reveal-v3").forEach((r)=>{if(r.getAttribute("data-remove-scroll")=="1"||isInsideHorizontalScrollElement(r)||r.closest(".bc-core-menu")){r.removeAttribute('data-flickering')}})}})