function next_image_reveal_v4(){var isBricks=window.location.href.includes("brickspreview");document.querySelectorAll('.nb-image-reveal-v4').forEach(imageReveal=>{imageReveal.removeAttribute('data-flickering');if(isBricks&&imageReveal.getAttribute('data-disable-builder').includes('1')){return}
var mask=imageReveal.querySelector('.nb-image-reveal-v4__mask');var maskSquares=parseFloat(imageReveal.getAttribute('data-squares-number'));mask.innerHTML='';let cols=maskSquares;let rows=maskSquares;const squareSize=100/maskSquares;const totalSquares=cols*rows;for(let i=0;i<totalSquares;i++){const square=document.createElement('div');square.classList.add('nb-image-reveal-v4__mask-square');const row=Math.floor(i/cols);const col=i%cols;square.style.position='absolute';square.style.width=squareSize+'%';square.style.height=squareSize+'%';square.style.top=(row*squareSize)+'%';square.style.left=(col*squareSize)+'%';mask.appendChild(square)}
var varTrigger=imageReveal.getAttribute('data-trigger');if(varTrigger=='this'){varTrigger=imageReveal}
var varContainerAnimation=isInsideHorizontalScrollElement(imageReveal);const tl=gsap.timeline({scrollTrigger:{trigger:varTrigger,start:imageReveal.getAttribute('data-start'),end:imageReveal.getAttribute('data-end'),scrub:imageReveal.getAttribute('data-scrub')==='1'?!0:!1,toggleActions:imageReveal.getAttribute('data-toggle-actions'),containerAnimation:varContainerAnimation?window[varContainerAnimation]:undefined}});const squares=Array.from(mask.querySelectorAll('.nb-image-reveal-v4__mask-square'));const shuffledSquares=[...squares].sort(()=>Math.random()-0.5);tl.to(shuffledSquares,{opacity:0,duration:parseFloat(imageReveal.getAttribute('data-duration')),delay:parseFloat(imageReveal.getAttribute('data-delay')),stagger:parseFloat(imageReveal.getAttribute('data-stagger')),ease:imageReveal.getAttribute('data-ease')});var animationType=imageReveal.getAttribute("data-animationType");var removescroll=imageReveal.getAttribute("data-remove-scroll");var classTriggerClick=imageReveal.getAttribute("data-classTriggerClick");var classTriggerHover=imageReveal.getAttribute("data-classTriggerHover");var y=imageReveal.closest(".bc-core-menu");if(y&&y.contains(imageReveal)){var v=y.querySelector(".bc-core-burguer").querySelector("button");tl.pause();new MutationObserver(function(e){for(var t of e)"attributes"===t.type&&("true"===v.getAttribute("aria-expanded")?f():A())}).observe(v,{attributes:!0})}
function f(){tl.isActive()?tl.play():tl.restart()}
function A(){tl.reverse()}
if("Click"==animationType&&0!=parseFloat(classTriggerClick)){document.querySelectorAll(classTriggerClick).forEach(function(t){t.addEventListener("click",function(){tl.restart()})})}
if("Hover"==animationType&&0!=parseFloat(classTriggerHover)){document.querySelectorAll(classTriggerHover).forEach(function(t){t.addEventListener("mouseover",function(){tl.restart()})})}
if(removescroll.includes('1')){tl.progress(1)}})}
function isInsideHorizontalScrollElement(element){let containerName=null;document.querySelectorAll(".next-horizontal-scroll").forEach((horizontalScroll,index)=>{if(horizontalScroll.contains(element)){containerName=`NextHorizontalScroll${index}`}});return containerName}
document.addEventListener("DOMContentLoaded",function(t){if(!document.querySelector(".nb-site-loader")){bricksIsFrontend&&next_image_reveal_v4()}else{document.querySelectorAll(".nb-image-reveal-v4").forEach((r)=>{if(r.getAttribute("data-remove-scroll")=="1"||isInsideHorizontalScrollElement(r)||r.closest(".bc-core-menu")){r.removeAttribute('data-flickering')}})}})