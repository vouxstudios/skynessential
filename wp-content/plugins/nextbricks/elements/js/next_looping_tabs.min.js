function next_looping_tabs(){var isBricks=window.location.href.includes("brickspreview");document.querySelectorAll('.nb-looping-tabs').forEach(loopingTabs=>{loopingTabs.removeAttribute('data-flickering');var navItems=loopingTabs.querySelectorAll('.nb-looping-tabs__nav-item');var tabs=loopingTabs.querySelectorAll('.nb-looping-tabs__tab');var loopDuration=parseFloat(loopingTabs.getAttribute('data-loop-duration'))*1000;var activeIndex=parseFloat(loopingTabs.getAttribute('data-active-tab'))-1;var gsapEase=loopingTabs.getAttribute('data-gsap-ease');var loopInterval;function activateTab(index){navItems.forEach(item=>item.classList.remove('nb-looping-tabs__nav-item--active'));tabs.forEach(tab=>tab.classList.remove('nb-looping-tabs__tab--active'));navItems.forEach(item=>{var loopProgress=item.querySelector('.nb-looping-tabs__loop-mask');if(loopProgress){var mode=loopingTabs.getAttribute('data-mode');if(mode==='vertical'){gsap.set(loopProgress,{height:'100%'})}else{gsap.set(loopProgress,{width:'100%'})}}});gsap.killTweensOf(navItems);navItems.forEach(item=>{var loopProgress=item.querySelector('.nb-looping-tabs__loop-mask');if(loopProgress){gsap.killTweensOf(loopProgress)}});navItems[index].classList.add('nb-looping-tabs__nav-item--active');tabs[index].classList.add('nb-looping-tabs__tab--active');var loopMask=navItems[index].querySelector('.nb-looping-tabs__loop-mask');var mode=loopingTabs.getAttribute('data-mode');if(mode==='vertical'){gsap.set(loopMask,{height:'100%'});gsap.to(loopMask,{height:'0%',duration:loopDuration/1000,ease:gsapEase})}else{gsap.set(loopMask,{width:'100%'});gsap.to(loopMask,{width:'0%',duration:loopDuration/1000,ease:gsapEase})}}
function startLoop(){activateTab(activeIndex);if(loopInterval){clearInterval(loopInterval)}
loopInterval=setInterval(()=>{activeIndex=(activeIndex+1)%navItems.length;activateTab(activeIndex)},loopDuration)}
if(isBricks&&loopingTabs.getAttribute('data-disable-builder').includes('1')){navItems[0].classList.add('nb-looping-tabs__nav-item--active');tabs[0].classList.add('nb-looping-tabs__tab--active');return}
startLoop();navItems.forEach((item,index)=>{item.addEventListener('click',()=>{activeIndex=index;startLoop()});item.addEventListener('keydown',(event)=>{if(event.key==='Enter'||event.keyCode===13){activeIndex=index;startLoop()}})})})}
document.addEventListener("DOMContentLoaded",function(t){bricksIsFrontend&&next_looping_tabs()})