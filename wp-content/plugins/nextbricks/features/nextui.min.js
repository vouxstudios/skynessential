document.addEventListener("DOMContentLoaded",function(){runLoader();const interval=setInterval(()=>{var iframe=document.getElementById("bricks-builder-iframe");if(iframe&&iframe.contentWindow&&iframe.contentWindow.document){var iframeElement=iframe.contentWindow.document.querySelector(".iframe");if(iframeElement){var iframeLoaded=iframeElement.__vue_app__&&iframeElement.__vue_app__.config.globalProperties.$_state.iframeLoaded;if(iframeLoaded&&iframeElement.classList.contains("mounted")){clearInterval(interval);clearLoader();initNextUI()}}}},100)});function runLoader(){const nextuiLoader=document.querySelector(".nextui-loader");var progressBar=nextuiLoader.querySelector(".nextui-progress-bar");var duration=5*1000;var maxPercent=75;var start=null;function animateProgressBar(timestamp){if(progressBar.getAttribute("data-completed")==="true"){return}
if(!start)start=timestamp;var elapsed=timestamp-start;var percent=Math.min((elapsed/duration)*maxPercent,maxPercent);progressBar.style.width=percent+"%";if(elapsed<duration){requestAnimationFrame(animateProgressBar)}else{progressBar.style.width=maxPercent+"%"}}
requestAnimationFrame(animateProgressBar)}
function clearLoader(){const nextuiLoader=document.querySelector(".nextui-loader");var progressBar=nextuiLoader.querySelector(".nextui-progress-bar");const currentWidth=parseFloat(progressBar.style.width)||0;const targetWidth=100;const duration=400;const startTime=performance.now();function animateToFullWidth(now){const elapsed=now-startTime;const percent=Math.min(currentWidth+((elapsed/duration)*(targetWidth-currentWidth)),targetWidth);progressBar.style.width=percent+"%";progressBar.setAttribute("data-completed","true");if(percent<targetWidth){requestAnimationFrame(animateToFullWidth)}else{if(nextuiLoader&&nextuiLoader.parentNode){setTimeout(function(){nextuiLoader.style.opacity=0;setTimeout(function(){nextuiLoader.parentNode.removeChild(nextuiLoader)},600)},200)}}}
requestAnimationFrame(animateToFullWidth)}
function initNextUI(){userInputRequests();createLeftPanel();createLeftPanelEvents();createToolbarPanel();createStructurePanel();createBreakpointsResize();var ElementsAndComponentsButtonsWrapper=document.querySelector("ul#bricks-panel-tabs");var ElementsAndComponentsButtons=ElementsAndComponentsButtonsWrapper.querySelectorAll("li");ElementsAndComponentsButtons.forEach(function(button){button.addEventListener("click",function(){createLeftPanel();createLeftPanelEvents()})});function handleClassChanges(mutationsList){mutationsList.forEach(function(mutation){if(mutation.type==="attributes"&&mutation.attributeName==="class"){createLeftPanel();createLeftPanelEvents()}})}
var bricksPanelHeader=document.getElementById("bricks-panel-header");var observerSearch=new MutationObserver(handleClassChanges);var observerSearchConfig={attributes:!0};observerSearch.observe(bricksPanelHeader,observerSearchConfig);var leftPanelCategories=document.getElementById("bricks-panel-element");var observerLeftPanelCategories=new MutationObserver(handleClassChanges);var observerLeftPanelCategoriesConfig={attributes:!0};observerLeftPanelCategories.observe(leftPanelCategories,observerLeftPanelCategoriesConfig);function handleChildChanges(mutationsList){mutationsList.forEach(function(mutation){if(mutation.type==="childList"){createLeftPanelEvents()}})}
var bricksPanelElementsCategories=document.getElementById("bricks-panel-elements-categories");var observerPinned=new MutationObserver(handleChildChanges);var observerPinnedConfig={childList:!0,subtree:!0};observerPinned.observe(bricksPanelElementsCategories,observerPinnedConfig)}
function userInputRequests(){if(IsAdvancedThemerActive.active!="1"&&BCUILeftStructure.left_structure=="true"){document.body.setAttribute("data-left-structure","")}
var logoImage=document.querySelector(".logo img");if(BCUIImage.image_path){logoImage.src=BCUIImage.image_path}else{logoImage.src="https://nextbricks.io/wp-content/uploads/2024/07/nextbricks_nextui.png"}
var sheet=document.styleSheets[0];sheet.insertRule(`:root{--core-ui-input-background-aux: ${BCUIAccentColor.accent_color} !important}`);sheet.insertRule(`:root{--core-ui-input-background-aux-transparent: ${BCUIAccentColor.accent_color + "4f"} !important}`)}
function createElementsPanelControls(){var hasSettings=document.querySelectorAll("#bricks-panel-element .control .has-setting");hasSettings.forEach(function(hasSetting){moveHasSetting(hasSetting)});function moveHasSetting(hasSetting){if(hasSetting){var labelElement=hasSetting.nextElementSibling;if(labelElement&&labelElement.tagName=="LABEL"){labelElement.appendChild(hasSetting)}}}}
function createLeftPanel(){var prevBricksCaption=document.querySelector(".bc_core_ui--group-category-bricks");if(prevBricksCaption)prevBricksCaption.remove();var prevBrickscoreCaption=document.querySelector(".bc_core_ui--group-category-brickscore");if(prevBrickscoreCaption)prevBrickscoreCaption.remove();var prevOthersCaption=document.querySelector(".bc_core_ui--group-category-others");if(prevOthersCaption)prevOthersCaption.remove();var bricksWrapper=document.createElement("div");bricksWrapper.classList.add("bc_core_ui--group-category-bricks");bricksWrapper.textContent="Bricks";var brickscoreWrapper=document.createElement("div");brickscoreWrapper.classList.add("bc_core_ui--group-category-brickscore");brickscoreWrapper.textContent="Next Bricks";var othersWrapper=document.createElement("div");othersWrapper.classList.add("bc_core_ui--group-category-others");othersWrapper.textContent="Other";var referenceNodeBricks=document.querySelector("#bricks-panel-elements-categories:not([data-tab='components']) .category-pinned")||document.querySelector("#bricks-panel-elements-categories li.category:first-child");if(referenceNodeBricks)referenceNodeBricks.before(bricksWrapper);var referenceNodeNextBricks=document.querySelector(".category-Next.Texts")||document.querySelector(".category-Next.Buttons")||document.querySelector(".category-Next.Menus")||document.querySelector(".category-Next.Sliders")||document.querySelector(".category-Next.Backgrounds")||document.querySelector(".category-Next.Medias")||document.querySelector(".category-Next.Cursors")||document.querySelector(".category-Next.Cores");if(referenceNodeNextBricks)referenceNodeNextBricks.before(brickscoreWrapper);var order=["Texts","Buttons","Menus","Sliders","Backgrounds","Medias","Cursors","Cores"];var lastInserted=brickscoreWrapper;order.forEach((categoryName)=>{var nextBricksCategory=document.querySelector(`.category-Next.${categoryName}`);if(nextBricksCategory){lastInserted.after(nextBricksCategory);lastInserted=nextBricksCategory}});if(!referenceNodeNextBricks){var referenceNodeOthers=document.querySelector(`
            #bricks-panel-elements-categories li.category:not(
                .category-searchedElements,
                .category-pinned,
                .category-layout,
                .category-basic,
                .category-general,
                .category-media,
                .category-wordpress,
                .category-single,
                .category-woocommerce,
                .category-woocommerce_product,
                .category-Next.Texts,
                .category-Next.Buttons,
                .category-Next.Menus,
                .category-Next.Sliders,
                .category-Next.Backgrounds,
                .category-Next.Medias,
                .category-Next.Cursors,
                .category-Next.Cores
            )`);if(referenceNodeOthers){referenceNodeOthers.before(othersWrapper)}}else{var referenceNodeOthers=lastInserted;if(referenceNodeOthers){referenceNodeOthers.after(othersWrapper)}}
var otherCategories=document.querySelectorAll(`
    #bricks-panel-elements-categories li.category:not(
        .category-searchedElements,
        .category-pinned,
        .category-layout,
        .category-basic,
        .category-general,
        .category-media,
        .category-wordpress,
        .category-single,
        .category-woocommerce,
        .category-woocommerce_product,
        .category-Next.Texts,
        .category-Next.Buttons,
        .category-Next.Menus,
        .category-Next.Sliders,
        .category-Next.Backgrounds,
        .category-Next.Medias,
        .category-Next.Cursors,
        .category-Next.Cores
    )`);otherCategories.forEach((category)=>{othersWrapper.after(category)});var updateNextBricksCategoryTitle=(selector,text)=>{var element=document.querySelector(selector);if(element)element.textContent=text};updateNextBricksCategoryTitle(".category-Next.Texts .category-title .wrap span","Texts");updateNextBricksCategoryTitle(".category-Next.Buttons .category-title .wrap span","Buttons");updateNextBricksCategoryTitle(".category-Next.Menus .category-title .wrap span","Menus");updateNextBricksCategoryTitle(".category-Next.Sliders .category-title .wrap span","Sliders");updateNextBricksCategoryTitle(".category-Next.Backgrounds .category-title .wrap span","Backgrounds");updateNextBricksCategoryTitle(".category-Next.Medias .category-title .wrap span","Medias");updateNextBricksCategoryTitle(".category-Next.Cursors .category-title .wrap span","Cursors");updateNextBricksCategoryTitle(".category-Next.Cores .category-title .wrap span","Cores");var undefinedCategories=document.querySelectorAll(`
        .category:not(.category-pinned):not(.category-layout):not(.category-basic):not(.category-general):not(.category-media):not(.category-wordpress):not(.category-Next.Texts):not(.category-Next.Buttons):not(.category-Next.Menus):not(.category-Next.Sliders):not(.category-Next.Backgrounds):not(.category-Next.Medias):not(.category-Next.Cursors):not(.category-Next.Cores)
        `);undefinedCategories.forEach((category)=>{var categoriesWrapper=category.querySelector(".sortable-wrapper");var categoryTitleElement=category.querySelector(".category-title .wrap span");if(categoryTitleElement){categoriesWrapper.setAttribute("data-category-title",categoryTitleElement.innerHTML)}});var inputSearch=document.getElementById("bricks-panel-search");inputSearch.placeholder="Search"}
function createLeftPanelEvents(){var iframe=document.querySelector("#bricks-builder-iframe");var structure=document.querySelector("#bricks-structure");var toolbar=document.querySelector("#bricks-toolbar");var newCategories=document.querySelectorAll(".category");newCategories.forEach(function(newCategory){newCategory.removeEventListener("mouseover",newCategoryMouseover);iframe.removeEventListener("mouseover",iframeMouseover);structure.removeEventListener("mouseover",structureMouseover);toolbar.removeEventListener("mouseover",toolbarMouseover);newCategory.addEventListener("mouseover",newCategoryMouseover);iframe.addEventListener("mouseover",iframeMouseover);structure.addEventListener("mouseover",structureMouseover);toolbar.addEventListener("mouseover",toolbarMouseover);function newCategoryMouseover(){manageElementsTabs(newCategory,newCategories,"openthis");var sortable=document.querySelector(".sortable-wrapper-dragging");if(sortable){sortable.classList.remove("sortable-wrapper-dragging")}}
function iframeMouseover(){manageElementsTabs(newCategory,newCategories,"closeall");var sortable=document.querySelector(".sortable-wrapper-dragging");if(sortable){sortable.classList.remove("sortable-wrapper-dragging")}}
function structureMouseover(){manageElementsTabs(newCategory,newCategories,"closeall");var sortable=document.querySelector(".sortable-wrapper-dragging");if(sortable){sortable.classList.remove("sortable-wrapper-dragging")}}
function toolbarMouseover(){manageElementsTabs(newCategory,newCategories,"closeall");var sortable=document.querySelector(".sortable-wrapper-dragging");if(sortable){sortable.classList.remove("sortable-wrapper-dragging")}}
var categoryElements=newCategory.querySelectorAll(".bricks-add-element");categoryElements.forEach(function(categoryElement){categoryElement.removeEventListener("mousedown",categoryElementMousedown);categoryElement.removeEventListener("mouseleave",categoryElementMouseleave);categoryElement.addEventListener("mousedown",categoryElementMousedown);categoryElement.addEventListener("mouseleave",categoryElementMouseleave)});function categoryElementMousedown(){this.setAttribute("bricks-add-element-dragging","");var sortable=document.querySelector('.category:not(.category-searchedElements) .sortable-wrapper[data-open="true"]');if(sortable){sortable.classList.add("sortable-wrapper-dragging")}}
function categoryElementMouseleave(){this.removeAttribute("bricks-add-element-dragging");var sortable=document.querySelector(".sortable-wrapper-dragging");if(sortable){sortable.classList.remove("sortable-wrapper-dragging")}}});function manageElementsTabs(newCategory,newCategories,trigger){newCategories.forEach(function(newCategoryaux){triggerDataClose(newCategoryaux)});if(trigger=="openthis"){triggerDataOpen(newCategory)}}
function triggerDataOpen(category){var sortableWrapper=category.querySelector(".sortable-wrapper");if(sortableWrapper){sortableWrapper.dataset.open="true"}
var categoryTitle=category.querySelector(".category-title");if(categoryTitle){categoryTitle.dataset.hover="true"}}
function triggerDataClose(category){var sortableWrapper=category.querySelector(".sortable-wrapper");if(sortableWrapper){sortableWrapper.dataset.open="false"}
var categoryTitle=category.querySelector(".category-title");if(categoryTitle){categoryTitle.dataset.hover="false"}}}
function createToolbarPanel(){var anchorLogo=document.querySelector(".logo a");anchorLogo.removeAttribute("href");var logoIconExpander=document.createElement("li");logoIconExpander.className="logo-icon-expander";anchorLogo.after(logoIconExpander);var logoExpander=document.createElement("div");logoExpander.className="logo-expander";logoIconExpander.appendChild(logoExpander);var logo=document.querySelector(".logo");logo.addEventListener("click",function(event){logoIconExpander.classList.toggle("logo-icon-expander--open");event.stopPropagation()});var expanderSeparator1=document.createElement("div");var expanderSeparator2=document.createElement("div");expanderSeparator1.className="logo-expander__separator";expanderSeparator2.className="logo-expander__separator";var dashboardElement=document.createElement("a");dashboardElement.className="dashboard-expander";if(BCUILink.link){dashboardElement.href=BCUILink.link}else{dashboardElement.href=WPURLS.siteurl+"/wp-admin"}
if(anchorLogo.target=="_blank"){dashboardElement.target="_blank"}
dashboardElement.textContent="Go to WordPress";var panelElement=document.querySelector("#bricks-panel");closeLogoExpander(panelElement,logoIconExpander);var structureElement=document.querySelector("#bricks-structure");closeLogoExpander(structureElement,logoIconExpander);var toolbarElement=document.querySelector("#bricks-toolbar");closeLogoExpander(toolbarElement,logoIconExpander);var pagesElement=document.querySelector(".pages");closeLogoExpander(pagesElement,logoIconExpander);var classesElement=document.querySelector(".classes");closeLogoExpander(classesElement,logoIconExpander);var commandPaletteElement=document.querySelector(".command-palette");closeLogoExpander(commandPaletteElement,logoIconExpander);var structureElement=document.querySelector(".structure");closeLogoExpander(structureElement,logoIconExpander);var editWordpressElement=document.querySelector('#bricks-toolbar li:has(a[href*="wp-admin"])');closeLogoExpander(editWordpressElement,logoIconExpander);logoExpander.appendChild(dashboardElement);logoExpander.appendChild(expanderSeparator1);logoExpander.appendChild(pagesElement);logoExpander.appendChild(commandPaletteElement);logoExpander.appendChild(classesElement);logoExpander.appendChild(structureElement);logoExpander.appendChild(expanderSeparator2);logoExpander.appendChild(editWordpressElement);var elementsIcon=document.querySelector(".elements");function closeLogoExpander(element,iconExpander){if(element&&iconExpander){element.addEventListener("click",function(){iconExpander.classList.remove("logo-icon-expander--open")})}}
var viewOnFrontEndIcon=document.querySelector(".group-wrapper.end .new-tab");var templatesIcon=document.querySelector(".group-wrapper.start .templates");viewOnFrontEndIcon.before(templatesIcon);var switchThemesWrapper=document.createElement("div");switchThemesWrapper.className="core-ui__switch-themes-wrapper";editWordpressElement.after(switchThemesWrapper);var expanderSeparator3=document.createElement("div");expanderSeparator3.className="logo-expander__separator";switchThemesWrapper.before(expanderSeparator3);var lightTheme=document.createElement("div");lightTheme.className="core-ui__light-theme";switchThemesWrapper.appendChild(lightTheme);initThemeSwitchWithSendData(lightTheme,"light");var darkTheme=document.createElement("div");darkTheme.className="core-ui__dark-theme";switchThemesWrapper.appendChild(darkTheme);initThemeSwitchWithSendData(darkTheme,"dark");var bricksTheme=document.createElement("div");bricksTheme.className="core-ui__bricks-theme";switchThemesWrapper.appendChild(bricksTheme);initThemeSwitchWithSendData(bricksTheme,"bricks");switch(data_core_ui_theme.selected_theme){case "light":var lightTheme=document.querySelector(".core-ui__light-theme");lightTheme.classList.add("core-ui__theme--active");setUITheme("light");break;case "dark":var darkTheme=document.querySelector(".core-ui__dark-theme");darkTheme.classList.add("core-ui__theme--active");setUITheme("dark");break;case "bricks":var bricksTheme=document.querySelector(".core-ui__bricks-theme");bricksTheme.classList.add("core-ui__theme--active");setUITheme("bricks");break}
function initThemeSwitchWithSendData(themeToggle,theme){themeToggle.addEventListener("click",function(event){event.stopPropagation();var removeActive=document.querySelector(".core-ui__theme--active");removeActive.classList.remove("core-ui__theme--active");themeToggle.classList.add("core-ui__theme--active");setUITheme(theme);jQuery.ajax({type:"POST",url:data_core_ui_theme.ajaxurl,data:{action:"get_theme_from_core_ui_switch",CoreUItheme:theme}})})}
function setUITheme(theme){var root=document.documentElement;var body=document.querySelector(".brx-body.main");const interval=setInterval(()=>{var iframe=document.getElementById("bricks-builder-iframe");if(iframe&&iframe.contentWindow&&iframe.contentWindow.document){var iframeElement=iframe.contentWindow.document.querySelector(".iframe");if(iframeElement){var iframeLoaded=iframeElement.__vue_app__&&iframeElement.__vue_app__.config.globalProperties.$_state.iframeLoaded;if(iframeLoaded&&iframeElement.classList.contains("mounted")){clearInterval(interval);switchTheme(iframeElement)}}}},100);function switchTheme(iframeElement){switch(theme){case "light":body.classList.remove("core-ui--bricks-theme");body.classList.remove("core-ui--dark-theme");body.classList.add("core-ui--light-theme");if(iframeElement){iframeElement.classList.remove("core-ui--bricks-theme");iframeElement.classList.remove("core-ui--dark-theme");iframeElement.classList.add("core-ui--light-theme")}
root.style.setProperty("--core-ui-color","#454f59");root.style.setProperty("--core-ui-panel","#fbfcfd");root.style.setProperty("--core-ui-accent","#d2d5dd");root.style.setProperty("--core-ui-input-background","#e0e5e9");root.style.setProperty("--core-ui-input-active","#f72585");root.style.setProperty("--core-ui-separator-color","#d4d9dd");root.style.setProperty("--core-ui-background-blur","#ffffff69");root.style.setProperty("--core-ui-tooltip-text","#23282d");iframeElement.style.setProperty("--core-ui-color","#454f59");iframeElement.style.setProperty("--core-ui-panel","#fbfcfd");iframeElement.style.setProperty("--core-ui-accent","#d2d5dd");iframeElement.style.setProperty("--core-ui-input-background","#e0e5e9");iframeElement.style.setProperty("--core-ui-input-active","#f72585");iframeElement.style.setProperty("--core-ui-separator-color","#d4d9dd");iframeElement.style.setProperty("--core-ui-background-blur","#ffffff69");iframeElement.style.setProperty("--core-ui-input-background-aux",`${BCUIAccentColor.accent_color}`);iframeElement.style.setProperty("--core-ui-input-background-aux-accent",`${BCUIAccentColor.accent_color} + '4f'`);iframeElement.style.setProperty("--core-ui-tooltip-text","#23282d");break;case "dark":body.classList.remove("core-ui--light-theme");body.classList.remove("core-ui--bricks-theme");body.classList.add("core-ui--dark-theme");if(iframeElement){iframeElement.classList.remove("core-ui--light-theme");iframeElement.classList.remove("core-ui--bricks-theme");iframeElement.classList.add("core-ui--dark-theme")}
root.style.setProperty("--core-ui-color","#cccccc");root.style.setProperty("--core-ui-panel","#111111");root.style.setProperty("--core-ui-accent","#444444");root.style.setProperty("--core-ui-input-background","#26262A");root.style.setProperty("--core-ui-input-active","#fff");root.style.setProperty("--core-ui-separator-color","#252525");root.style.setProperty("--core-ui-background-blur","#10101169");iframeElement.style.setProperty("--core-ui-color","#cccccc");iframeElement.style.setProperty("--core-ui-panel","#111111");iframeElement.style.setProperty("--core-ui-accent","#444444");iframeElement.style.setProperty("--core-ui-input-background","#26262A");iframeElement.style.setProperty("--core-ui-input-active","#fff");iframeElement.style.setProperty("--core-ui-separator-color","#252525");iframeElement.style.setProperty("--core-ui-background-blur","#10101169");iframeElement.style.setProperty("--core-ui-input-background-aux",`${BCUIAccentColor.accent_color}`);iframeElement.style.setProperty("--core-ui-input-background-aux-accent",`${BCUIAccentColor.accent_color} + '4f'`);break;case "bricks":body.classList.remove("core-ui--light-theme");body.classList.remove("core-ui--dark-theme");body.classList.add("core-ui--bricks-theme");if(iframeElement){iframeElement.classList.remove("core-ui--light-theme");iframeElement.classList.remove("core-ui--dark-theme");iframeElement.classList.add("core-ui--bricks-theme")}
root.style.setProperty("--core-ui-color","#e0e3e5");root.style.setProperty("--core-ui-panel","#23282d");root.style.setProperty("--core-ui-accent","#454f59");root.style.setProperty("--core-ui-input-background","#343c43");root.style.setProperty("--core-ui-input-active","#ffd64f");root.style.setProperty("--core-ui-separator-color","#454f59");root.style.setProperty("--core-ui-background-blur","#23282d69");root.style.setProperty("--core-ui-tooltip-text","#eaecef");iframeElement.style.setProperty("--core-ui-color","#e0e3e5");iframeElement.style.setProperty("--core-ui-panel","#23282d");iframeElement.style.setProperty("--core-ui-accent","#454f59");iframeElement.style.setProperty("--core-ui-input-background","#343c43");iframeElement.style.setProperty("--core-ui-input-active","#ffd64f");iframeElement.style.setProperty("--core-ui-separator-color","#454f59");iframeElement.style.setProperty("--core-ui-background-blur","#23282d69");iframeElement.style.setProperty("--core-ui-input-background-aux",`${BCUIAccentColor.accent_color}`);iframeElement.style.setProperty("--core-ui-input-background-aux-accent",`${BCUIAccentColor.accent_color} + '4f'`);iframeElement.style.setProperty("--core-ui-tooltip-text","#eaecef");break}}}}
function createStructurePanel(){var wrapper=document.createElement("div");wrapper.classList.add("sticky-structure-wrapper");var target=document.querySelector("#bricks-structure #bricks-panel-header");target.parentNode.insertBefore(wrapper,target);wrapper.appendChild(target)}
function createBreakpointsResize(){const parentElement=document.querySelector(".breakpoints");const observer=new MutationObserver((mutationsList)=>{mutationsList.forEach((mutation)=>{if(mutation.type==="attributes"&&mutation.attributeName==="class"){const targetElement=mutation.target;if(targetElement.classList.contains("breakpoint")&&targetElement.classList.contains("active")){parentElement.querySelectorAll("li.breakpoint.active").forEach((breakpoint)=>{if(breakpoint!==targetElement){breakpoint.classList.remove("active")}})}}})});observer.observe(parentElement,{attributes:!0,subtree:!0,attributeFilter:["class"]});class Resizable{defaultOptions={handles:["s","e","w"]};constructor(element,options){this.element=element;this.options=Object.assign({},this.defaultOptions,options);this.handles=this.options.handles;this.inputHeight="";this.activeHandle=null;this.create()}
create=()=>{const{element,options}=this;element.classList.add("rsizable");for(let handle of options.handles)this.createHandle(handle)};start=(e)=>{this.updateActiveHandleClass();let{pageX:startX,pageY:startY,touches}=e;if(touches&&touches.length===1){startX=touches[0].pageX;startY=touches[0].pageY}
const{height,width,x,y}=this.element.getBoundingClientRect();const resizeFactorHorizontal=2;const resizeFactorVertical=1;const widthInput=document.querySelector("#preview-width");const heightInput=document.querySelector("#preview-height");const iframeWrapper=document.querySelector("#bricks-builder-iframe-wrapper");const handleClick=(breakpoint)=>{setTimeout(()=>{widthInput.value=iframeWrapper.offsetWidth;widthInput.dispatchEvent(new Event("blur"))},50);if(this.inputHeight!=""){heightInput.value=this.inputHeight;heightInput.dispatchEvent(new Event("blur"))}
if(!breakpoint.classList.contains("active")){breakpoint.classList.add("active")}};document.querySelectorAll(".breakpoint").forEach((breakpoint)=>{breakpoint.addEventListener("click",handleClick.bind(null,breakpoint))});widthInput.addEventListener("blur",()=>{this.element.style.maxWidth="";this.element.style.minWidth=""});heightInput.addEventListener("blur",()=>{this.element.style.maxHeight="";this.element.style.minHeight="";this.inputHeight=heightInput.value});const removeMaxWidth=()=>{setTimeout(()=>{this.element.style.maxWidth="";this.element.style.minWidth=""},100)};document.querySelectorAll("li.breakpoint").forEach((breakpoint)=>{breakpoint.addEventListener("mousedown",removeMaxWidth)});const resize=(evt)=>{evt.preventDefault();imageToResize.classList.add("next-iframe--dragging");const direction=e.target.getAttribute("data-rsize-direction");let{pageX:X,pageY:Y,touches}=evt;if(touches&&touches.length===1){X=touches[0].pageX;Y=touches[0].pageY}
var bricksPreview=document.querySelector("#bricks-preview");var bricksPreviewWidth=bricksPreview.offsetWidth;var bricksPreviewHeight=bricksPreview.offsetHeight;const updateStyles=()=>{for(const d of direction.split("")){switch(d){case "s":const newHeightS=Math.min(bricksPreviewHeight,height+resizeFactorVertical*(Y-startY));const clampedHeightS=Math.max(320,newHeightS);this.element.style.maxHeight=clampedHeightS+"px";this.element.style.minHeight=clampedHeightS+"px";heightInput.value=clampedHeightS;heightInput.dispatchEvent(new Event("blur"));this.inputHeight=clampedHeightS;break;case "e":const newMaxWidthE=Math.min(bricksPreviewWidth,width+resizeFactorHorizontal*(X-startX));const clampedWidthE=Math.max(240,newMaxWidthE);this.element.style.maxWidth=clampedWidthE+"px";this.element.style.minWidth=clampedWidthE+"px";widthInput.value=clampedWidthE;addActiveClassToBreakpoints(clampedWidthE);break;case "w":const newMaxWidthW=Math.min(bricksPreviewWidth,width+resizeFactorHorizontal*(startX-X));const clampedWidthW=Math.max(240,newMaxWidthW);this.element.style.maxWidth=clampedWidthW+"px";this.element.style.minWidth=clampedWidthW+"px";widthInput.value=clampedWidthW;addActiveClassToBreakpoints(clampedWidthW);break}}};const addActiveClassToBreakpoints=(width)=>{const breakpoints=[];document.querySelectorAll("li.breakpoint").forEach((element)=>{const balloonData=element.getAttribute("data-balloon");let label,width;if(balloonData.includes("(Base breakpoint)")){label=balloonData.replace(" (Base breakpoint)","");width=document.getElementById("bricks-builder-iframe").offsetWidth}else{const matches=balloonData.match(/^(.*?) \(<= (\d+)px\)$/);if(matches){label=matches[1];width=parseFloat(matches[2])}}
if(label&&width){breakpoints.push({label,width})}});let smallestBalloonWidth=Infinity;let elementWithSmallestBalloon=null;breakpoints.forEach((breakpoint)=>{const balloonWidth=parseInt(breakpoint.width);const label=breakpoint.label;if(!isNaN(balloonWidth)&&balloonWidth>width&&balloonWidth<smallestBalloonWidth){smallestBalloonWidth=balloonWidth;elementWithSmallestBalloon=label}});if(elementWithSmallestBalloon===null){let maxBalloonWidth=-Infinity;breakpoints.forEach((breakpoint)=>{const balloonWidth=parseInt(breakpoint.width);const label=breakpoint.label;if(balloonWidth>maxBalloonWidth){maxBalloonWidth=balloonWidth;elementWithSmallestBalloon=label}})}
const breakpointsLi=document.querySelectorAll("li.breakpoint");breakpointsLi.forEach((breakpoint)=>{const balloonLabel=breakpoint.getAttribute("data-balloon");const cleanBalloonLabel=balloonLabel.replace(/\([^()]*\)/,"").trim();if(cleanBalloonLabel===elementWithSmallestBalloon){breakpoint.click()}else{breakpoint.classList.remove("active")}})};requestAnimationFrame(updateStyles)};const end=()=>{imageToResize.classList.remove("next-iframe--dragging");document.body.removeEventListener("mousemove",resize);document.body.removeEventListener("mouseup",end);if(this.activeHandle){this.activeHandle.classList.remove("handle--active");this.activeHandle=null}};document.body.addEventListener("mousemove",resize);document.body.addEventListener("mouseup",end)};createHandle=(direction)=>{const newHandle=document.createElement("span");newHandle.classList.add("rsizable__handle",`rsizable__handle--${direction}`);newHandle.setAttribute("data-rsize-direction",direction);newHandle.style.setProperty("--cursor",`${direction}-resize`);this.element.appendChild(newHandle);newHandle.addEventListener("mousedown",(e)=>{this.activeHandle=newHandle;this.start(e)})};updateActiveHandleClass=()=>{if(this.activeHandle){this.activeHandle.classList.add("handle--active")}}}
const imageToResize=document.querySelector("#bricks-builder-iframe-wrapper");const resizableImage=new Resizable(imageToResize,{})}